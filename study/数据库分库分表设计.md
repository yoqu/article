#  数据库分库分表设计


标签：  数据库 mysql

---



## 分表

分表减少数据库单表负担,提高查询性能,缩短查询时间.环节表锁问题

分表策略可以是`垂直拆分`和`水平拆分`

* 垂直拆分

  垂直拆分将表字段进行拆分,一张字段比较多的表拆分未多张表,

  **拆分建议**:

  * 将不常用的字段拆分到另一张扩展表
  * 将大文本字段单独拆分到扩展表,例如BLOB和TEXT字符串类型
  * 将不经常修改的放在同一张表,经常修改的放在另一张表
  * 需要经常关联查询的字段放在同一张表中

------

* 水平拆分

  水平拆分将`行数据`拆分成多张表存放,策略有:`取模分表`,`时间纬度分表`,`自定义Hash`分表,`用户Id维度分表`.



## 分库

库内分表,仅仅是解决单表数据大的问题,但是仍然在一台物理机上.分库策略也可以归纳为`垂直拆分`和`水瓶拆分`



